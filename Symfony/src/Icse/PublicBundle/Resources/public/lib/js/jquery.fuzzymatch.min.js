// jQuery.fuzzyMatch.js (v0.3): Copyright 2011 conrad@rapportive.com (MIT License)
(function(f){function j(a,d){for(var c=a.toLowerCase(),i=d.toLowerCase(),b=c.indexOf(i),e=[];b>-1;)e.push({before:a.slice(0,b),chr:a.charAt(b),after:a.slice(b+1)}),b=c.indexOf(i,b+1);return e}function g(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}f.fuzzyMatch=function(a,d,c){if(d==="")return{score:a===""?1:0.99,html:g(a)};if(c&&c[a]&&c[a][d])return f.extend({},c[a][d]);c=c||{};c[a]=c[a]||{};c[a][d]=f(j(a,d.charAt(0))).map(function(a,b){var e=f.fuzzyMatch(b.after,d.slice(1),
c),h=b.before.charAt(b.before.length-1);e.score*=b.before===""?1:h.match(/[\\\/\-_+.# \t"@\[\(\{&]/)||b.chr.toLowerCase()!==b.chr&&h.toLowerCase()===h?0.9:0.8;b.chr!==d.charAt(0)&&(e.score*=0.9999);e.score*=Math.pow(0.999,b.before.length);e.html=g(b.before)+"<b>"+g(b.chr)+"</b>"+e.html;return e}).sort(function(a,b){return a.score<b.score?1:a.score===b.score?0:-1})[0]||{score:0,html:g(a)};return f.extend({},c[a][d])}})(jQuery);
