{% extends 'IcsePublicBundle:Default:template.html.twig' %} 
{% set currentPage = 'events' %}

{% block title %} - Event{% endblock %} 

{% block stylesheets %}
{{ parent() }}
<link rel="stylesheet" type="text/css" media="screen" href="{{ asset('bundles/icsepublic/fancybox/jquery.fancybox.css') }}" />
{% endblock %}  

{% block javascripts %}
{{ parent() }}
<script src="{{ asset('bundles/icsepublic/fancybox/jquery.fancybox.js') }}"></script> 
{% endblock %}  

{% block content %}

<h1>{{ event.getName() }}</h1>

{% if event.getPoster() %}
<a class="view_full_image" href="{{ path('IcsePublicBundle_resource', {'type':'images', 'file':event.getPoster().getFile(), 'size':'original'}) }}" title="{{ event.getName() }}" >
<img class=poster src="{{ path('IcsePublicBundle_resource', {'type':'images', 'file':event.getPoster().getFile(), 'size':'hpmainthumb'}) }}" />
</a>
{% endif %}

{# Event Time #}
<div class="datetime">{{ event.getStartsAt() | date("l jS F Y, g:ia") }}</div>
{# Event Location #}
{% if event.getLocation() %}
<div class="location">{{ event.getLocation().getName() }}</div>
{% endif %}
{# Event Repertoire #}
{% if not event.getPerformances().isEmpty() %}
<ul class="repertoire">
{% for performance in event.getPerformances() %}
<li>{{ performance.getPiece().getComposer() }}: {{ performance.getPiece().getName() }}</li>
{% endfor %}
</ul>
{% endif %}
{# Event Description #}
{% if event.getDescription() %}
<p>{{ event.getDescription() }}</p>
{% endif %}

<script>
  $('.view_full_image').fancybox({
    padding: 0,
    closeClick: true,
    openEffect:'elastic',
    closeEffect:'elastic',
    helpers: {
      orig: $(this),
      overlay: {
        css: {
          'background': 'rgba(45, 45, 45, 0.5)' 
        }
      }
    }
  });
</script> 

{% endblock %}
